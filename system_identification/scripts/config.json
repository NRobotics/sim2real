{
    "can_interface": {
        "interface": "socketcan",
        "channel": "can0",
        "bitrate": 1000000,
        "fd": true
    },
    "chirp": {
        "f_start": 0.0,
        "f_end": 1.0,
        "duration": 20.0,
        "sample_rate": 500.0,
        "sweep_type": "linear",
        "rate_limit": true
    },
    "control_parameters": {
        "velocity": 0.0,
        "effort": 0.0,
        "stiffness": 10.0,
        "damping": 0.1
    },
    "interpolation_duration": 2.0,
    "_comment_interpolation": "Duration [s] for smooth interpolation from zero to initial chirp position (start) and from final position back to zero (end). Default: 2.0s",
    "position_tolerance": 0.05,
    "_comment_position_tolerance": "Maximum angular error [rad] to consider motors 'reached' target position. Default: 0.05 rad (≈2.9°). Used for verifying initialization and finalization.",
    "motor_ids": [0, 1, 2, 3, 4, 5 ],
    "_comment_formula": "All joints use: q(t) = scale * direction * (s(t) + bias), where s(t) is base chirp [-1, +1]",
    "_comment_motors": "Per-motor config for DIRECT control (motors not in ik_groups)",
    "_comment_motor_limits": "Direct motors: scale defines amplitude in radians. Typical safe range: 0.1-0.5 rad. Check motor joint limits before exceeding.",
    "_comment_control_params": "Optional per-motor control parameters (velocity, effort, stiffness, damping). Falls back to global control_parameters if not specified.",
    "motors": {
        "0": {
            "name": "left_hip_pitch", 
            "scale": 0.9,
            "direction": 1.0,
            "bias": 0.0,
            "limits": [-1.48353, 1.13446],
            "control_parameters": {
                "velocity": 0.0,
                "effort": 0.0,
                "stiffness": 20.0,
                "damping": 0.3
            }
        },
        "1": {
            "name": "left_hip_roll", 
            "scale": 0.2,
            "direction": 1.0,
            "bias": 0.3,
            "limits": [-0.436332, 1.13446],
            "control_parameters": {
                "velocity": 0.0,
                "effort": 0.0,
                "stiffness": 30.0,
                "damping": 2.0
            }
        },
        "2": {
            "name": "left_hip_yaw", 
            "scale": 0.2,
            "direction": 1.0,
            "bias": 0.0,
            "limits": [-0.331613, 0.331613]  ,
            "control_parameters": {
                "velocity": 0.0,
                "effort": 0.0,
                "stiffness": 10.0,
                "damping": 0.1
            }
        },
        "3": {
            "name": "left_knee",
            "scale": 0.5,
            "direction": 1.0,
            "bias": 0.7,
            "limits": [0.0872665, 1.48353],
            "control_parameters": {
                "velocity": 0.0,
                "effort": 0.0,
                "stiffness": 10.0,
                "damping": 0.1
            }
        }
    },
    "_comment_ik_groups": "IK groups: IK inputs treated as 1-DOF joints, then IK converts to motor commands",
    "_comment_ik_limits": "Foot IK workspace limits: pitch ~[-0.3, +0.4] rad, roll ~[-0.3, +0.3] rad. Safe scale values: 0.25-0.30 (stays within workspace)",
    "_comment_ik_control_params": "Optional per-group control parameters. Can also specify per-motor within group using motor_ids as keys. Falls back to global control_parameters if not specified.",
    "ik_groups": [
        {
            "name": "foot_0",
            "ik_type": "foot",
            "motor_ids": [4, 5],
            "motor_names": ["ankle_pitch_left", "ankle_roll_left"],
            "chirp": {
                "scale_pitch": 0.2,
                "direction_pitch": 1.0,
                "bias_pitch": 0.0,
                "scale_roll": 0.2,
                "direction_roll": 1.0,
                "bias_roll": 0.0

            },
            "limits": {
                 "4": [-3.0, 3.0],
                 "5": [-3.0, 3.0]
            },
            "control_parameters": {
                "velocity": 0.0,
                "effort": 0.0,
                "stiffness": 10.0,
                "damping": 0.2
            }
        }
    ]
}
